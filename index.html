<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>sample api data</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css"
      integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l"
      crossorigin="anonymous"
    />
  </head>

  <body>
    <script>
      var generator = function (dis, str, arr) {
        var num;

        if (str === undefined) {
          var min = 10000000;
          var max = 99999999;

          num = Math.floor(Math.random() * (max - min - 1)) + min;

          var x = "";

          x = x + num;

          var arr1 = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0];

          generator(dis, x, arr1);
        } else {
          var i;

          for (i = 0; i < str.length; i++) {
            var y = parseInt(str.charCodeAt(i) - 48);

            if (arr[y] === 0) {
              arr[y] = 1;
            } else {
              generator(dis, undefined, [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]);
              return;
            }
          }

          if (i === str.length) {
            dis.innerHTML = str;
          }
        }
      };

      var divv = document.createElement("div");
      divv.setAttribute("class", "container");

      var divvrow = document.createElement("div");
      divvrow.setAttribute("class", "row");

      var divvcol = document.createElement("div");
      divvcol.setAttribute(
        "class",
        "col-md-6 offset-md-3 p-3 mb-2 bg-dark text-center"
      );

      var heading = document.createElement("h1");
      heading.innerHTML = "UNIQUE 8 DIGIT RANDOM NUMBER GENERATOR";
      heading.setAttribute("class", "display-4 mb-4 mt-5");
      heading.setAttribute("class", "p-3 mb-2 bg-info text-white");

      var lab = document.createElement("button");
      lab.setAttribute("class", "p-3 mb-2 bg-secondary text-white");
      lab.setAttribute("id", "but");
      lab.setAttribute("type", "button");
      lab.innerHTML = "generate";

      var dis = document.createElement("div");
      dis.setAttribute(
        "class",
        "p-3 mb-2 bg-success text-white text-center align-middle"
      );
      dis.setAttribute("id", "random");
      lab.setAttribute(
        "onclick",
        "generator(dis, undefined, [0,0,0,0,0,0,0,0,0,0])"
      );

      divvcol.append(heading);
      divvcol.append(lab);
      divvcol.append(dis);
      divvrow.append(divvcol);
      divv.append(divvrow);

      var divvrow1 = document.createElement("div");
      divvrow1.setAttribute("class", "row");

      var divvcol1 = document.createElement("div");
      divvcol1.setAttribute(
        "class",
        "col-md-6 offset-md-3 p-3 mb-2 bg-dark text-center"
      );

      var heading1 = document.createElement("h1");
      heading1.innerHTML = "DATE MANIPULATION";
      heading1.setAttribute("class", "display-4 mb-4 mt-5");
      heading1.setAttribute("class", "p-3 mb-2 bg-info text-white");

      var date = document.createElement("input");
      date.setAttribute("class", "p-3 mb-2 bg-secondary text-white");
      date.setAttribute("id", "date");
      date.setAttribute("type", "date");

      var dis1 = document.createElement("div");
      dis1.setAttribute(
        "class",
        "p-3 mb-2 bg-success text-white text-center align-middle"
      );
      dis1.setAttribute("id", "diff");
      dis1.setAttribute("justify-content", "center");
      
      var lab1 = document.createElement("button");
      lab1.setAttribute("class", "p-3 mb-2 bg-secondary text-white");
      lab1.setAttribute("id", "but");
      lab1.setAttribute("type", "button");
      lab1.innerHTML = "Submit";
      lab1.setAttribute("onclick", "g(yy)");

      var g = function (arr) {
        console.log(arr.length);
        var a = document.getElementById("date").value;

        var b = a.split("-");
        let d2 = Date.now();
        let d1 = new Date(
          parseInt(b[0]),
          parseInt(b[1]) - 1,
          parseInt(b[2])
        ).getTime();

        if (d2 < d1) {
          let d3 = d1;
          d1 = d2;
          d2 = d3;
        }
        console.log(d2, d1);
        var ans = new Array(8);
        var ans1 = new Array(8);
        h = 0;
        ans[h] = d2 - d1;
        ans1[h++] = "Millisecond(s)";
        ans[h] = Math.floor(ans[h - 1] / 1000);
        console.log(ans[h]);
        ans1[h++] = "Second(s)";
        ans[h] = Math.floor(ans[h - 1] / 60);
        ans1[h++] = "Minute(s)";
        ans[h] = Math.floor(ans[h - 1] / 60);
        ans1[h++] = "Hour(s)";
        ans[h] = Math.floor(ans[h - 1] / 24);
        ans1[h++] = "Day(s)";
        ans[h] = Math.floor(ans[h - 1] / 7);
        ans[h++] = "Week(s)";
        let Date1 = new Date(d1);
        let Date2 = new Date(d2);
        console.log(Date1, Date2);
        ans[h] = Date2.getFullYear() - Date1.getFullYear();
        ans1[h++] = "Year(s)";
        ans[h] = ans[h - 1] * 12 + (Date2.getMonth() - Date1.getMonth());
        ans1[h++] = "Month(s)";

        h--;
        let x = ans[h];
        let y = ans1[h];
        ans[h] = ans[h - 1];
        ans1[h] = ans1[h - 1];
        ans[h - 1] = x;
        ans1[h - 1] = y;

        for (var z = 0; z < arr.length; z++) {
          arr[z][0].innerHTML = ans1[z];
          arr[z][1].innerHTML = ans[z];
        }
      };
      var rowcreate = function (a) {
        var cr = document.createElement(a);
        cr.setAttribute("border", "1px solid black");
        cr.setAttribute("width", "100px");
        cr.setAttribute("height", "30px");
        return cr;
      };
      var tabdiv = document.createElement("div");
      tabdiv.setAttribute("padding-left", "20px");
      tabdiv.setAttribute("position", "absolute");
      var table = document.createElement("table");
      table.setAttribute("border", "1px solid black");
      tabdiv.append(table);
      var yy = new Array(8);
      for (var e = 0; e < 8; e++) {
        var x = rowcreate("tr");
        var xx = new Array(2);
        for (var f = 0; f < 2; f++) {
          var y = rowcreate("td");
          xx[f] = y;
          x.append(y);
        }
        yy[e] = xx;
        table.append(x);
      }

      dis1.append(tabdiv);
      divvcol1.append(heading1, date, lab1, dis1);
      divvrow1.append(divvcol1);
      divv.append(divvrow1);
      document.body.append(divv);
    </script>
  </body>
</html>
